<div class="page-content-wrapper">
  <div class="row">
    <h2>Users</h2>
  </div>
  <hr>
  <div  class="tab-group-wrapper mat-elevation-z8">
    <mat-tab-group #tabGroup (selectedTabChange)="tabChangeEvent($event)">
      <mat-tab label="Users">
        <div>
          <div class="table-wrapper">
            <table mat-table [dataSource]="usersDataSource">

              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Name </th>
                <td mat-cell *matCellDef="let user"> {{user.firstname + ' ' + user.lastname}} </td>
              </ng-container>

              <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> Email </th>
                <td mat-cell *matCellDef="let user"> {{user.emailid}} </td>
              </ng-container>

              <ng-container matColumnDef="location">
                <th mat-header-cell *matHeaderCellDef> Location </th>
                <td mat-cell *matCellDef="let user"> {{user.location}} </td>
              </ng-container>

              <ng-container matColumnDef="deleted">
                <th mat-header-cell *matHeaderCellDef style="text-align: center">Deleted</th>
                <td mat-cell *matCellDef="let user" class="text-center">
                    <mat-checkbox class="example-margin" [checked]="user.isDeleted" disabled></mat-checkbox>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedUserColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedUserColumns;"></tr>
            </table>
          </div>
        </div>
      </mat-tab>
      <mat-tab label="User Request">
        <table mat-table [dataSource]="userRequestDataSource">

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let user"> {{user.firstname + ' ' + user.lastname}} </td>
          </ng-container>

          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef> Email </th>
            <td mat-cell *matCellDef="let user"> {{user.emailid}} </td>
          </ng-container>

          <ng-container matColumnDef="location">
            <th mat-header-cell *matHeaderCellDef> Location </th>
            <td mat-cell *matCellDef="let user"> {{user.location}} </td>
          </ng-container>

          <ng-container matColumnDef="details">
              <th mat-header-cell *matHeaderCellDef> Details </th>
              <td mat-cell *matCellDef="let user; let i = index">
                <button mat-icon-button color="primary" title="Accept Request"
                (click)="displayDetails(i)">
                  <mat-icon>open_with</mat-icon>
                </button>
              </td>
            </ng-container>
          <ng-container matColumnDef="accept">
            <th mat-header-cell *matHeaderCellDef> Accept </th>
            <td mat-cell *matCellDef="let user let i = index">
              <button mat-icon-button color="primary" title="Accept Request"
                (click)="acceptClick(i)">
                <mat-icon>check</mat-icon>
              </button>
            </td>
          </ng-container>
          <ng-container matColumnDef="reject">
            <th mat-header-cell *matHeaderCellDef> Reject </th>
            <td mat-cell *matCellDef="let user let i = index">
              <button mat-icon-button color="warn" title="Reject Request"
                (click)="rejectClick(i)">
                <mat-icon>cancel</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedUserRequestColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedUserRequestColumns;"></tr>
        </table>
      </mat-tab>
    </mat-tab-group>
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 50]" showFirstLastButtons></mat-paginator>
  </div>
</div>
